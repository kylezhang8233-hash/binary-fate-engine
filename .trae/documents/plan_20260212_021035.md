## Fix Gemini Integration & Add Shopify Connection

### 1. **Fix Gemini API Integration**
- Update frontend to handle Gemini API errors gracefully
- Improve fallback mechanism for local analysis
- Enhance error messages for better user experience
- Add debug logging to identify issues

### 2. **Improve Local Analysis**
- Ensure local analysis always returns valid results
- Add more robust error handling
- Improve poem selection and teaser generation

### 3. **Check Existing Shopify Integration**
- Examine `backend/routes/shopify.js` to understand current implementation
- Check Shopify configuration and dependencies
- Identify any issues in the existing integration

### 4. **Fix/Update Shopify Integration**
- Update Shopify API endpoints if needed
- Add proper error handling
- Implement checkout flow
- Add Shopify webhook handlers

### 5. **Test End-to-End Flow**
- Test Bazi analysis with Gemini fallback
- Test Shopify checkout process
- Verify usage count updates correctly
- Test premium upgrade flow

### 6. **Add Admin Dashboard**
- Add basic admin dashboard to monitor usage
- Show Shopify sales data
- Allow manual user premium status updates

### Expected Outcome
- ✅ Users can see Bazi analysis results
- ✅ Gemini API fallback works reliably
- ✅ Shopify integration functions correctly
- ✅ Premium upgrade flow works
- ✅ Usage tracking is accurate