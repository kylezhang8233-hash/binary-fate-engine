## Fix Usage Count Issue

### 1. **Update Frontend to Use Backend Response**
- Modify `handleSubmit` in `App.jsx` to use the `usageCount` returned from the `/api/user/usage` endpoint
- Replace local increment with actual backend data
- Ensure consistent state between frontend and backend

### 2. **Ensure Email Consistency**
- Check that the email sent to `/api/user/usage` matches the email in the user object
- Fix any potential email mismatch issues
- Add logging to debug email handling

### 3. **Add Usage Count Fetch Route**
- Create GET `/api/user/usage/:email` route to fetch current usage count
- Add this to the user registration flow to ensure accurate initial count
- Use this route to sync usage count when component mounts

### 4. **Improve Backend Logging**
- Add more detailed logs to track user creation/finding
- Log usage count changes clearly
- Make it easier to debug which user is being updated

### 5. **Fix Usage Count Initialization**
- Ensure new users are properly initialized with usageCount: 0
- Check that existing users have their usageCount correctly maintained
- Verify admin user has unlimited usage

### 6. **Test Usage Flow End-to-End**
- Test registration → reading submission → usage count update
- Verify usage count persists across page refreshes
- Test admin and regular user scenarios

### Expected Outcome
- Usage count accurately reflects number of readings
- Consistent state between frontend and backend
- Reliable usage tracking across sessions
- Clear logging for debugging